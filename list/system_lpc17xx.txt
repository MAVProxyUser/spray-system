; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\output\system_lpc17xx.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\output\system_lpc17xx.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I.\cstartup -I.\drivers\uart -I.\app\cfg -I.\iap -I.\drivers -I.\usb -I.\drivers\adc -I.\drivers\gpio -I.\drivers -I.\RTE\_lpc17xx_can_loader_debug -IC:\Keil_v5\ARM\PACK\Keil\LPC1700_DFP\2.3.0\Device\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=523 -DLPC175x_6x -D__DEBUG_UART2_PRINTF__ -D__UART0__ -D__UART1__ -D__UART2__ -D__UART3__ -D__UART2_ENABLE__ -D__UART3_ENABLE__ -D__UART0_ENABLE__ -D__UART1_ENABLE__ --omf_browse=.\output\system_lpc17xx.crf cstartup\system_LPC17xx.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  SystemCoreClockUpdate PROC
;;;449     *         retrieved from cpu registers.
;;;450     */void SystemCoreClockUpdate (void)            /* Get Core Clock Frequency      */
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;451    {
;;;452      /* Determine clock frequency according to clock register values             */
;;;453      if (((LPC_SC->PLL0STAT >> 24) & 3) == 3) { /* If PLL0 enabled and connected */
000004  48ed              LDR      r0,|L1.956|
000006  6800              LDR      r0,[r0,#0]
000008  f3c06001          UBFX     r0,r0,#24,#2
00000c  2803              CMP      r0,#3
00000e  d17d              BNE      |L1.268|
;;;454        switch (LPC_SC->CLKSRCSEL & 0x03) {
000010  48ea              LDR      r0,|L1.956|
000012  3084              ADDS     r0,r0,#0x84
000014  6800              LDR      r0,[r0,#0]
000016  f0000003          AND      r0,r0,#3
00001a  b130              CBZ      r0,|L1.42|
00001c  2801              CMP      r0,#1
00001e  d030              BEQ      |L1.130|
000020  2802              CMP      r0,#2
000022  d059              BEQ      |L1.216|
000024  2803              CMP      r0,#3
000026  d12b              BNE      |L1.128|
000028  e000              B        |L1.44|
                  |L1.42|
;;;455          case 0:                                /* Int. RC oscillator => PLL0    */
;;;456          case 3:                                /* Reserved, default to Int. RC  */
00002a  bf00              NOP      
                  |L1.44|
;;;457            SystemCoreClock = (IRC_OSC *
00002c  48e3              LDR      r0,|L1.956|
00002e  6800              LDR      r0,[r0,#0]
000030  f3c04007          UBFX     r0,r0,#16,#8
000034  1c44              ADDS     r4,r0,#1
000036  2102              MOVS     r1,#2
000038  48e0              LDR      r0,|L1.956|
00003a  3888              SUBS     r0,r0,#0x88
00003c  f8d00088          LDR      r0,[r0,#0x88]
000040  f3c0000e          UBFX     r0,r0,#0,#15
000044  1c40              ADDS     r0,r0,#1
000046  fba10100          UMULL    r0,r1,r1,r0
00004a  4bdd              LDR      r3,|L1.960|
00004c  f04f0c00          MOV      r12,#0
000050  fba07903          UMULL    r7,r9,r0,r3
000054  fb019103          MLA      r1,r1,r3,r9
000058  fb00110c          MLA      r1,r0,r12,r1
00005c  4622              MOV      r2,r4
00005e  4663              MOV      r3,r12
000060  4638              MOV      r0,r7
000062  f7fffffe          BL       __aeabi_uldivmod
000066  4605              MOV      r5,r0
000068  48d4              LDR      r0,|L1.956|
00006a  307c              ADDS     r0,r0,#0x7c
00006c  6800              LDR      r0,[r0,#0]
00006e  b2c0              UXTB     r0,r0
000070  1c44              ADDS     r4,r0,#1
000072  4622              MOV      r2,r4
000074  2300              MOVS     r3,#0
000076  4628              MOV      r0,r5
000078  f7fffffe          BL       __aeabi_uldivmod
00007c  49d1              LDR      r1,|L1.964|
00007e  6008              STR      r0,[r1,#0]  ; SystemCoreClock
                  |L1.128|
;;;458                              ((2ULL * ((LPC_SC->PLL0STAT & 0x7FFF) + 1)))  /
;;;459                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1)       /
;;;460                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;461            break;
000080  e056              B        |L1.304|
                  |L1.130|
;;;462          case 1:                                /* Main oscillator => PLL0       */
;;;463            SystemCoreClock = (OSC_CLK *
000082  48ce              LDR      r0,|L1.956|
000084  6800              LDR      r0,[r0,#0]
000086  f3c04007          UBFX     r0,r0,#16,#8
00008a  1c44              ADDS     r4,r0,#1
00008c  2102              MOVS     r1,#2
00008e  48cb              LDR      r0,|L1.956|
000090  3888              SUBS     r0,r0,#0x88
000092  f8d00088          LDR      r0,[r0,#0x88]
000096  f3c0000e          UBFX     r0,r0,#0,#15
00009a  1c40              ADDS     r0,r0,#1
00009c  fba11000          UMULL    r1,r0,r1,r0
0000a0  4ac9              LDR      r2,|L1.968|
0000a2  f04f0c00          MOV      r12,#0
0000a6  fba17902          UMULL    r7,r9,r1,r2
0000aa  fb009002          MLA      r0,r0,r2,r9
0000ae  fb01010c          MLA      r1,r1,r12,r0
0000b2  4622              MOV      r2,r4
0000b4  4663              MOV      r3,r12
0000b6  4638              MOV      r0,r7
0000b8  f7fffffe          BL       __aeabi_uldivmod
0000bc  4605              MOV      r5,r0
0000be  48bf              LDR      r0,|L1.956|
0000c0  307c              ADDS     r0,r0,#0x7c
0000c2  6800              LDR      r0,[r0,#0]
0000c4  b2c0              UXTB     r0,r0
0000c6  1c44              ADDS     r4,r0,#1
0000c8  4622              MOV      r2,r4
0000ca  2300              MOVS     r3,#0
0000cc  4628              MOV      r0,r5
0000ce  f7fffffe          BL       __aeabi_uldivmod
0000d2  49bc              LDR      r1,|L1.964|
0000d4  6008              STR      r0,[r1,#0]  ; SystemCoreClock
;;;464                              ((2ULL * ((LPC_SC->PLL0STAT & 0x7FFF) + 1)))  /
;;;465                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1)       /
;;;466                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;467            break;
0000d6  e02b              B        |L1.304|
                  |L1.216|
;;;468          case 2:                                /* RTC oscillator => PLL0        */
;;;469            SystemCoreClock = (RTC_CLK *
0000d8  48b8              LDR      r0,|L1.956|
0000da  6800              LDR      r0,[r0,#0]
0000dc  f3c04007          UBFX     r0,r0,#16,#8
0000e0  1c44              ADDS     r4,r0,#1
0000e2  2102              MOVS     r1,#2
0000e4  48b5              LDR      r0,|L1.956|
0000e6  3888              SUBS     r0,r0,#0x88
0000e8  f8d00088          LDR      r0,[r0,#0x88]
0000ec  f3c0000e          UBFX     r0,r0,#0,#15
0000f0  1c40              ADDS     r0,r0,#1
0000f2  fba11200          UMULL    r1,r2,r1,r0
0000f6  f44f4000          MOV      r0,#0x8000
0000fa  2300              MOVS     r3,#0
0000fc  fba17900          UMULL    r7,r9,r1,r0
000100  fb029000          MLA      r0,r2,r0,r9
000104  fb010103          MLA      r1,r1,r3,r0
000108  4622              MOV      r2,r4
00010a  e000              B        |L1.270|
                  |L1.268|
00010c  e011              B        |L1.306|
                  |L1.270|
00010e  4638              MOV      r0,r7
000110  f7fffffe          BL       __aeabi_uldivmod
000114  4605              MOV      r5,r0
000116  48a9              LDR      r0,|L1.956|
000118  307c              ADDS     r0,r0,#0x7c
00011a  6800              LDR      r0,[r0,#0]
00011c  b2c0              UXTB     r0,r0
00011e  1c44              ADDS     r4,r0,#1
000120  4622              MOV      r2,r4
000122  2300              MOVS     r3,#0
000124  4628              MOV      r0,r5
000126  f7fffffe          BL       __aeabi_uldivmod
00012a  49a6              LDR      r1,|L1.964|
00012c  6008              STR      r0,[r1,#0]  ; SystemCoreClock
;;;470                              ((2ULL * ((LPC_SC->PLL0STAT & 0x7FFF) + 1)))  /
;;;471                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1)       /
;;;472                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;473            break;
00012e  bf00              NOP      
                  |L1.304|
000130  e030              B        |L1.404|
                  |L1.306|
;;;474        }
;;;475      } else {
;;;476        switch (LPC_SC->CLKSRCSEL & 0x03) {
000132  48a2              LDR      r0,|L1.956|
000134  3084              ADDS     r0,r0,#0x84
000136  6800              LDR      r0,[r0,#0]
000138  f0000003          AND      r0,r0,#3
00013c  b130              CBZ      r0,|L1.332|
00013e  2801              CMP      r0,#1
000140  d010              BEQ      |L1.356|
000142  2802              CMP      r0,#2
000144  d019              BEQ      |L1.378|
000146  2803              CMP      r0,#3
000148  d123              BNE      |L1.402|
00014a  e000              B        |L1.334|
                  |L1.332|
;;;477          case 0:                                /* Int. RC oscillator => PLL0    */
;;;478          case 3:                                /* Reserved, default to Int. RC  */
00014c  bf00              NOP      
                  |L1.334|
;;;479            SystemCoreClock = IRC_OSC / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
00014e  489b              LDR      r0,|L1.956|
000150  307c              ADDS     r0,r0,#0x7c
000152  6800              LDR      r0,[r0,#0]
000154  b2c0              UXTB     r0,r0
000156  1c40              ADDS     r0,r0,#1
000158  4999              LDR      r1,|L1.960|
00015a  fbb1f0f0          UDIV     r0,r1,r0
00015e  4999              LDR      r1,|L1.964|
000160  6008              STR      r0,[r1,#0]  ; SystemCoreClock
;;;480            break;
000162  e016              B        |L1.402|
                  |L1.356|
;;;481          case 1:                                /* Main oscillator => PLL0       */
;;;482            SystemCoreClock = OSC_CLK / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
000164  4895              LDR      r0,|L1.956|
000166  307c              ADDS     r0,r0,#0x7c
000168  6800              LDR      r0,[r0,#0]
00016a  b2c0              UXTB     r0,r0
00016c  1c40              ADDS     r0,r0,#1
00016e  4996              LDR      r1,|L1.968|
000170  fbb1f0f0          UDIV     r0,r1,r0
000174  4993              LDR      r1,|L1.964|
000176  6008              STR      r0,[r1,#0]  ; SystemCoreClock
;;;483            break;
000178  e00b              B        |L1.402|
                  |L1.378|
;;;484          case 2:                                /* RTC oscillator => PLL0        */
;;;485            SystemCoreClock = RTC_CLK / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
00017a  4890              LDR      r0,|L1.956|
00017c  307c              ADDS     r0,r0,#0x7c
00017e  6800              LDR      r0,[r0,#0]
000180  b2c0              UXTB     r0,r0
000182  1c40              ADDS     r0,r0,#1
000184  f44f4100          MOV      r1,#0x8000
000188  fbb1f0f0          UDIV     r0,r1,r0
00018c  498d              LDR      r1,|L1.964|
00018e  6008              STR      r0,[r1,#0]  ; SystemCoreClock
;;;486            break;
000190  bf00              NOP      
                  |L1.402|
000192  bf00              NOP                            ;480
                  |L1.404|
;;;487        }
;;;488      }
;;;489    
;;;490    }
000194  e8bd87f0          POP      {r4-r10,pc}
;;;491    
                          ENDP

                  SystemInit PROC
;;;500     */
;;;501    void SystemInit (void)
000198  2020              MOVS     r0,#0x20
;;;502    {
;;;503    #if (CLOCK_SETUP)                       /* Clock Setup                        */
;;;504      LPC_SC->SCS       = SCS_Val;
00019a  498c              LDR      r1,|L1.972|
00019c  6008              STR      r0,[r1,#0]
;;;505      if (SCS_Val & (1 << 5)) {             /* If Main Oscillator is enabled      */
;;;506        while ((LPC_SC->SCS & (1<<6)) == 0);/* Wait for Oscillator to be ready    */
00019e  bf00              NOP      
                  |L1.416|
0001a0  488a              LDR      r0,|L1.972|
0001a2  6800              LDR      r0,[r0,#0]
0001a4  f0000040          AND      r0,r0,#0x40
0001a8  2800              CMP      r0,#0
0001aa  d0f9              BEQ      |L1.416|
;;;507      }
;;;508    
;;;509      LPC_SC->CCLKCFG   = CCLKCFG_Val;      /* Setup Clock Divider                */ //CPU时钟3分频？
0001ac  2002              MOVS     r0,#2
0001ae  4983              LDR      r1,|L1.956|
0001b0  317c              ADDS     r1,r1,#0x7c
0001b2  6008              STR      r0,[r1,#0]
;;;510    
;;;511      LPC_SC->PCLKSEL0  = PCLKSEL0_Val;     /* Peripheral Clock Selection         *///外设时钟1/4分频  
0001b4  2000              MOVS     r0,#0
0001b6  4981              LDR      r1,|L1.956|
0001b8  3988              SUBS     r1,r1,#0x88
0001ba  f8c101a8          STR      r0,[r1,#0x1a8]
;;;512      LPC_SC->PCLKSEL1  = PCLKSEL1_Val;
0001be  f8c101ac          STR      r0,[r1,#0x1ac]
;;;513    
;;;514     #if (FLASH_SETUP == 1)                  /* Flash Accelerator Setup            */
;;;515      LPC_SC->FLASHCFG  |= FLASHCFG_Val;
0001c2  4608              MOV      r0,r1
0001c4  6800              LDR      r0,[r0,#0]
0001c6  f244013a          MOV      r1,#0x403a
0001ca  4308              ORRS     r0,r0,r1
0001cc  497b              LDR      r1,|L1.956|
0001ce  3988              SUBS     r1,r1,#0x88
0001d0  6008              STR      r0,[r1,#0]
;;;516    #endif
;;;517    
;;;518    #if (PLL0_SETUP)
;;;519      LPC_SC->CLKSRCSEL = CLKSRCSEL_Val;    /* Select Clock Source for PLL0       */ //选择PLL0时钟源    01-主振荡器
0001d2  2001              MOVS     r0,#1
0001d4  4979              LDR      r1,|L1.956|
0001d6  3184              ADDS     r1,r1,#0x84
0001d8  6008              STR      r0,[r1,#0]
;;;520      LPC_SC->PLL0CFG   = PLL0CFG_Val;                                               //分频值和倍频值  
0001da  487d              LDR      r0,|L1.976|
0001dc  4977              LDR      r1,|L1.956|
0001de  1f09              SUBS     r1,r1,#4
0001e0  6008              STR      r0,[r1,#0]
;;;521      LPC_SC->PLL0CON   = 0x01;             /* PLL0 Enable                        */
0001e2  2001              MOVS     r0,#1
0001e4  1f09              SUBS     r1,r1,#4
0001e6  6008              STR      r0,[r1,#0]
;;;522      LPC_SC->PLL0FEED  = 0xAA;
0001e8  20aa              MOVS     r0,#0xaa
0001ea  4974              LDR      r1,|L1.956|
0001ec  1d09              ADDS     r1,r1,#4
0001ee  6008              STR      r0,[r1,#0]
;;;523      LPC_SC->PLL0FEED  = 0x55;
0001f0  2055              MOVS     r0,#0x55
0001f2  4972              LDR      r1,|L1.956|
0001f4  3988              SUBS     r1,r1,#0x88
0001f6  f8c1008c          STR      r0,[r1,#0x8c]
;;;524      while (!(LPC_SC->PLL0STAT & (1<<26)));/* Wait for PLOCK0                    */  //PLL0锁定指定频率    
0001fa  bf00              NOP      
                  |L1.508|
0001fc  486f              LDR      r0,|L1.956|
0001fe  6800              LDR      r0,[r0,#0]
000200  f0006080          AND      r0,r0,#0x4000000
000204  2800              CMP      r0,#0
000206  d0f9              BEQ      |L1.508|
;;;525    
;;;526      LPC_SC->PLL0CON   = 0x03;      /* PLL0 Enable & Connect              */
000208  2003              MOVS     r0,#3
00020a  496c              LDR      r1,|L1.956|
00020c  3908              SUBS     r1,r1,#8
00020e  6008              STR      r0,[r1,#0]
;;;527      LPC_SC->PLL0FEED  = 0xAA;
000210  20aa              MOVS     r0,#0xaa
000212  496a              LDR      r1,|L1.956|
000214  3988              SUBS     r1,r1,#0x88
000216  f8c1008c          STR      r0,[r1,#0x8c]
;;;528      LPC_SC->PLL0FEED  = 0x55;
00021a  2055              MOVS     r0,#0x55
00021c  4967              LDR      r1,|L1.956|
00021e  1d09              ADDS     r1,r1,#4
000220  6008              STR      r0,[r1,#0]
;;;529    #endif
;;;530    
;;;531    #if (PLL1_SETUP)
;;;532      LPC_SC->PLL1CFG   = PLL1CFG_Val;
000222  2023              MOVS     r0,#0x23
000224  4965              LDR      r1,|L1.956|
000226  311c              ADDS     r1,r1,#0x1c
000228  6008              STR      r0,[r1,#0]
;;;533      LPC_SC->PLL1CON   = 0x01;             /* PLL1 Enable                        */
00022a  2001              MOVS     r0,#1
00022c  1f09              SUBS     r1,r1,#4
00022e  6008              STR      r0,[r1,#0]
;;;534      LPC_SC->PLL1FEED  = 0xAA;
000230  20aa              MOVS     r0,#0xaa
000232  4962              LDR      r1,|L1.956|
000234  3124              ADDS     r1,r1,#0x24
000236  6008              STR      r0,[r1,#0]
;;;535      LPC_SC->PLL1FEED  = 0x55;
000238  2055              MOVS     r0,#0x55
00023a  6008              STR      r0,[r1,#0]
;;;536      while (!(LPC_SC->PLL1STAT & (1<<10)));/* Wait for PLOCK1                    */
00023c  bf00              NOP      
                  |L1.574|
00023e  485f              LDR      r0,|L1.956|
000240  3020              ADDS     r0,r0,#0x20
000242  6800              LDR      r0,[r0,#0]
000244  f4006080          AND      r0,r0,#0x400
000248  2800              CMP      r0,#0
00024a  d0f8              BEQ      |L1.574|
;;;537    
;;;538      LPC_SC->PLL1CON   = 0x03;             /* PLL1 Enable & Connect              */
00024c  2003              MOVS     r0,#3
00024e  495b              LDR      r1,|L1.956|
000250  3118              ADDS     r1,r1,#0x18
000252  6008              STR      r0,[r1,#0]
;;;539      LPC_SC->PLL1FEED  = 0xAA;
000254  20aa              MOVS     r0,#0xaa
000256  4959              LDR      r1,|L1.956|
000258  3988              SUBS     r1,r1,#0x88
00025a  f8c100ac          STR      r0,[r1,#0xac]
;;;540      LPC_SC->PLL1FEED  = 0x55;
00025e  2055              MOVS     r0,#0x55
000260  4956              LDR      r1,|L1.956|
000262  3124              ADDS     r1,r1,#0x24
000264  6008              STR      r0,[r1,#0]
;;;541    #else
;;;542      LPC_SC->USBCLKCFG = USBCLKCFG_Val;    /* Setup USB Clock Divider            */  //仅PLL0 USB可分频   
;;;543    #endif
;;;544    
;;;545      LPC_SC->PCONP     = PCONP_Val;        /* Power Control for Peripherals      */
000266  485b              LDR      r0,|L1.980|
000268  4954              LDR      r1,|L1.956|
00026a  313c              ADDS     r1,r1,#0x3c
00026c  6008              STR      r0,[r1,#0]
;;;546    
;;;547      LPC_SC->CLKOUTCFG = CLKOUTCFG_Val;    /* Clock Output Configuration         */
00026e  2000              MOVS     r0,#0
000270  4952              LDR      r1,|L1.956|
000272  3988              SUBS     r1,r1,#0x88
000274  f8c101c8          STR      r0,[r1,#0x1c8]
;;;548    #endif
;;;549    
;;;550      /* Determine clock frequency according to clock register values             */
;;;551      if (((LPC_SC->PLL0STAT >> 24)&3)==3) {/* If PLL0 enabled and connected      */
000278  4608              MOV      r0,r1
00027a  f8d00088          LDR      r0,[r0,#0x88]
00027e  f3c06001          UBFX     r0,r0,#24,#2
000282  2803              CMP      r0,#3
000284  d15e              BNE      |L1.836|
;;;552        switch (LPC_SC->CLKSRCSEL & 0x03) {
000286  484d              LDR      r0,|L1.956|
000288  3084              ADDS     r0,r0,#0x84
00028a  6800              LDR      r0,[r0,#0]
00028c  f0000003          AND      r0,r0,#3
000290  b130              CBZ      r0,|L1.672|
000292  2801              CMP      r0,#1
000294  d020              BEQ      |L1.728|
000296  2802              CMP      r0,#2
000298  d039              BEQ      |L1.782|
00029a  2803              CMP      r0,#3
00029c  d151              BNE      |L1.834|
00029e  e000              B        |L1.674|
                  |L1.672|
;;;553          case 0:                           /* Internal RC oscillator => PLL0     */
;;;554          case 3:                           /* Reserved, default to Internal RC   */
0002a0  bf00              NOP      
                  |L1.674|
;;;555            SystemFrequency = (IRC_OSC * 
0002a2  4846              LDR      r0,|L1.956|
0002a4  6800              LDR      r0,[r0,#0]
0002a6  f3c0000e          UBFX     r0,r0,#0,#15
0002aa  1c40              ADDS     r0,r0,#1
0002ac  0041              LSLS     r1,r0,#1
0002ae  4843              LDR      r0,|L1.956|
0002b0  3888              SUBS     r0,r0,#0x88
0002b2  f8d00088          LDR      r0,[r0,#0x88]
0002b6  f3c04007          UBFX     r0,r0,#16,#8
0002ba  1c40              ADDS     r0,r0,#1
0002bc  fbb1f0f0          UDIV     r0,r1,r0
0002c0  493f              LDR      r1,|L1.960|
0002c2  4348              MULS     r0,r1,r0
0002c4  493d              LDR      r1,|L1.956|
0002c6  317c              ADDS     r1,r1,#0x7c
0002c8  6809              LDR      r1,[r1,#0]
0002ca  b2c9              UXTB     r1,r1
0002cc  1c49              ADDS     r1,r1,#1
0002ce  fbb0f0f1          UDIV     r0,r0,r1
0002d2  4941              LDR      r1,|L1.984|
0002d4  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;556                              (((2 * ((LPC_SC->PLL0STAT & 0x7FFF) + 1))) /
;;;557                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1))   /
;;;558                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;559            break;
0002d6  e034              B        |L1.834|
                  |L1.728|
;;;560          case 1:                           /* Main oscillator => PLL0            */
;;;561            SystemFrequency = (OSC_CLK * 
0002d8  4838              LDR      r0,|L1.956|
0002da  6800              LDR      r0,[r0,#0]
0002dc  f3c0000e          UBFX     r0,r0,#0,#15
0002e0  1c40              ADDS     r0,r0,#1
0002e2  0041              LSLS     r1,r0,#1
0002e4  4835              LDR      r0,|L1.956|
0002e6  3888              SUBS     r0,r0,#0x88
0002e8  f8d00088          LDR      r0,[r0,#0x88]
0002ec  f3c04007          UBFX     r0,r0,#16,#8
0002f0  1c40              ADDS     r0,r0,#1
0002f2  fbb1f0f0          UDIV     r0,r1,r0
0002f6  4934              LDR      r1,|L1.968|
0002f8  4348              MULS     r0,r1,r0
0002fa  4930              LDR      r1,|L1.956|
0002fc  317c              ADDS     r1,r1,#0x7c
0002fe  6809              LDR      r1,[r1,#0]
000300  b2c9              UXTB     r1,r1
000302  1c49              ADDS     r1,r1,#1
000304  fbb0f0f1          UDIV     r0,r0,r1
000308  4933              LDR      r1,|L1.984|
00030a  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;562                              (((2 * ((LPC_SC->PLL0STAT & 0x7FFF) + 1))) /
;;;563                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1))   /
;;;564                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;565            break;
00030c  e019              B        |L1.834|
                  |L1.782|
;;;566          case 2:                           /* RTC oscillator => PLL0             */
;;;567            SystemFrequency = (RTC_CLK * 
00030e  482b              LDR      r0,|L1.956|
000310  6800              LDR      r0,[r0,#0]
000312  f3c0000e          UBFX     r0,r0,#0,#15
000316  1c40              ADDS     r0,r0,#1
000318  0041              LSLS     r1,r0,#1
00031a  4828              LDR      r0,|L1.956|
00031c  3888              SUBS     r0,r0,#0x88
00031e  f8d00088          LDR      r0,[r0,#0x88]
000322  f3c04007          UBFX     r0,r0,#16,#8
000326  1c40              ADDS     r0,r0,#1
000328  fbb1f0f0          UDIV     r0,r1,r0
00032c  03c1              LSLS     r1,r0,#15
00032e  4823              LDR      r0,|L1.956|
000330  307c              ADDS     r0,r0,#0x7c
000332  6800              LDR      r0,[r0,#0]
000334  b2c0              UXTB     r0,r0
000336  1c40              ADDS     r0,r0,#1
000338  fbb1f0f0          UDIV     r0,r1,r0
00033c  4926              LDR      r1,|L1.984|
00033e  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;568                              (((2 * ((LPC_SC->PLL0STAT & 0x7FFF) + 1))) /
;;;569                              (((LPC_SC->PLL0STAT >> 16) & 0xFF) + 1))   /
;;;570                              ((LPC_SC->CCLKCFG & 0xFF)+ 1));
;;;571            break;
000340  bf00              NOP      
                  |L1.834|
000342  e030              B        |L1.934|
                  |L1.836|
;;;572        }
;;;573      } else {
;;;574        switch (LPC_SC->CLKSRCSEL & 0x03) {
000344  481d              LDR      r0,|L1.956|
000346  3084              ADDS     r0,r0,#0x84
000348  6800              LDR      r0,[r0,#0]
00034a  f0000003          AND      r0,r0,#3
00034e  b130              CBZ      r0,|L1.862|
000350  2801              CMP      r0,#1
000352  d010              BEQ      |L1.886|
000354  2802              CMP      r0,#2
000356  d019              BEQ      |L1.908|
000358  2803              CMP      r0,#3
00035a  d123              BNE      |L1.932|
00035c  e000              B        |L1.864|
                  |L1.862|
;;;575          case 0:                           /* Internal RC oscillator => PLL0     */
;;;576          case 3:                           /* Reserved, default to Internal RC   */
00035e  bf00              NOP      
                  |L1.864|
;;;577            SystemFrequency = IRC_OSC / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
000360  4816              LDR      r0,|L1.956|
000362  307c              ADDS     r0,r0,#0x7c
000364  6800              LDR      r0,[r0,#0]
000366  b2c0              UXTB     r0,r0
000368  1c40              ADDS     r0,r0,#1
00036a  4915              LDR      r1,|L1.960|
00036c  fbb1f0f0          UDIV     r0,r1,r0
000370  4919              LDR      r1,|L1.984|
000372  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;578            break;
000374  e016              B        |L1.932|
                  |L1.886|
;;;579          case 1:                           /* Main oscillator => PLL0            */
;;;580            SystemFrequency = OSC_CLK / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
000376  4811              LDR      r0,|L1.956|
000378  307c              ADDS     r0,r0,#0x7c
00037a  6800              LDR      r0,[r0,#0]
00037c  b2c0              UXTB     r0,r0
00037e  1c40              ADDS     r0,r0,#1
000380  4911              LDR      r1,|L1.968|
000382  fbb1f0f0          UDIV     r0,r1,r0
000386  4914              LDR      r1,|L1.984|
000388  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;581            break;
00038a  e00b              B        |L1.932|
                  |L1.908|
;;;582          case 2:                           /* RTC oscillator => PLL0             */
;;;583            SystemFrequency = RTC_CLK / ((LPC_SC->CCLKCFG & 0xFF)+ 1);
00038c  480b              LDR      r0,|L1.956|
00038e  307c              ADDS     r0,r0,#0x7c
000390  6800              LDR      r0,[r0,#0]
000392  b2c0              UXTB     r0,r0
000394  1c40              ADDS     r0,r0,#1
000396  f44f4100          MOV      r1,#0x8000
00039a  fbb1f0f0          UDIV     r0,r1,r0
00039e  490e              LDR      r1,|L1.984|
0003a0  6008              STR      r0,[r1,#0]  ; SystemFrequency
;;;584            break;
0003a2  bf00              NOP      
                  |L1.932|
0003a4  bf00              NOP                            ;578
                  |L1.934|
;;;585        }
;;;586      }
;;;587    
;;;588        LPC_SC->PCONP   |= (1UL<<15);       /* enable gpio       */    
0003a6  4805              LDR      r0,|L1.956|
0003a8  303c              ADDS     r0,r0,#0x3c
0003aa  6800              LDR      r0,[r0,#0]
0003ac  f4404000          ORR      r0,r0,#0x8000
0003b0  4902              LDR      r1,|L1.956|
0003b2  3988              SUBS     r1,r1,#0x88
0003b4  f8c100c4          STR      r0,[r1,#0xc4]
;;;589    }
0003b8  4770              BX       lr
                          ENDP

0003ba  0000              DCW      0x0000
                  |L1.956|
                          DCD      0x400fc088
                  |L1.960|
                          DCD      0x003d0900
                  |L1.964|
                          DCD      SystemCoreClock
                  |L1.968|
                          DCD      0x00b71b00
                  |L1.972|
                          DCD      0x400fc1a0
                  |L1.976|
                          DCD      0x00010018
                  |L1.980|
                          DCD      0x8000e25e
                  |L1.984|
                          DCD      SystemFrequency

                          AREA ||.data||, DATA, ALIGN=2

                  SystemFrequency
                          DCD      0x003d0900
                  SystemCoreClock
                          DCD      0x05f5e100
